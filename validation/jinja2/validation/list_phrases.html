{#
      Copyright (C) 2018 Eddie Antonio Santos <easantos@ualberta.ca>

      This program is free software: you can redistribute it and/or modify
      it under the terms of the GNU Affero General Public License as
      published by the Free Software Foundation, either version 3 of the
      License, or (at your option) any later version.

      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU Affero General Public License for more details.

      You should have received a copy of the GNU Affero General Public License
      along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}

{#
 # Displays a list of phrases.
 #}

{% extends 'validation/_base.html' %}
{% import 'validation/_macros.html' as macros %}

{% block content %}
<div>
  <form class="form-inline ml-2 my-2 my-lg-0" method="GET" action="{{
    url('validation:index')
  }}">
    <div class="filters">
      <button class="{{ all_class }}"" type="submit" id="filter-all" name="mode" value="all">All</button>
      <button class="{{ validated_class }}" type="submit" id="filter-validated" name="mode" value="validated">Validated</button>
      <button class="{{ unvalidated_class }}" type="submit" id="filter-unvalidated" name="mode" value="unvalidated">Unvalidated</button>
    </div>
  </form>
</div>

    {%  for phrase in phrases %}
    <div class="card segment-card">
    {% if phrase.validated %}
      <div class="card-header-green">
          &nbsp;

      </div>
    {% else %}
        <div class="card-header-red">
          &nbsp;

      </div>
    {% endif %}
      <div class="card-body">
        <h3>{{ phrase.transcription }}</h3>
        <h5>Translation: {{ phrase.translation }}</h5>
        <p>Is this translation accurate?
            <button class="button-success" onclick="{{ validate_phrase }}">Yes</button>
            <button class="button-fail">No</button></p>
        <table>
            <th>Recording</th>
            <th>Speaker</th>
            <th>This recording is...</th>

            {% for recording in phrase.recordings %}
                <tr>
              <td>
                <div class="rec-height">
                  {{ macros.player(recording) }}
                </div>
              </td>
                <td>
                    {{ macros.speaker(recording) }}
                </td>
                <td>
                <button class="button-success">Good</button> <button class="button-fail">Bad</button>
                </td>
                </tr>

            {% endfor %}{# for recording in phrase.recordings #}
        </table>
        <a href={{ url('validation:segment_detail', phrase.id) }} class="button-success right">More Options</a>
      </div>
</div>
    {% endfor %} {# phrase in phrases #}

<nav>
  {{ macros.pagination(phrases, 'list_phrases') }}
</nav>
{% endblock content %}

{# vim: set ft=htmldjango :#}
